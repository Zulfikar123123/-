<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>[ÙˆØ§ØªØ¨Ø§Ø¯ Ø§Ù„ÙÙ‚Ø±Ø§Ø¡]</title>
    
    <meta name="apple-mobile-web-app-capable" content="yes">
    <link rel="apple-touch-icon" href="https://pomf2.lain.la/f/odvlatpw.jpg">
    <meta name="theme-color" content="#e63946">

    <script src="https://twigcrucialpal.com/a8/03/68/a80368812dec3f6d3f22da29616fb388.js"></script>

    <style>
        :root { 
            --main-red: #e63946; 
            --bg-page: #f8f9fa; 
            --card-bg: #ffffff;
            --text-main: #2b2d42;
            --search-bg: #f1f3f4;
            --gray: #888;
        }

        body.dark-theme { 
            --bg-page: #121212; 
            --card-bg: #1e1e1e;
            --text-main: #f1f1f1;
            --search-bg: #2d2d2d;
        }

        body { 
            background-color: var(--bg-page); color: var(--text-main); 
            font-family: 'Segoe UI', sans-serif; margin: 0; padding: 0; 
            transition: 0.3s; overflow-x: hidden;
        }

        .app-header { background: var(--card-bg); padding: 15px; display: flex; align-items: center; justify-content: space-between; position: sticky; top: 0; z-index: 1000; }
        .header-icons { display: flex; gap: 18px; align-items: center; }
        .app-title { font-size: 19px; font-weight: bold; color: var(--main-red); margin: 0; }
        .search-wrapper { padding: 5px 15px 15px 15px; background: var(--card-bg); }
        .search-input { width: 100%; padding: 12px 20px; border-radius: 25px; border: none; background: var(--search-bg); color: var(--text-main); outline: none; box-sizing: border-box; font-size: 14px; }

        .tabs { display: flex; background: var(--card-bg); margin: 15px; border-radius: 12px; overflow: hidden; box-shadow: 0 4px 15px rgba(0,0,0,0.05); }
        .tab-btn { flex: 1; padding: 15px; border: none; background: none; color: var(--gray); font-weight: bold; cursor: pointer; font-size: 12px; }
        .tab-btn.active { background: var(--main-red); color: white; }

        .grid { display: none; padding: 0 15px 15px 15px; grid-template-columns: repeat(2, 1fr); gap: 15px; }
        .grid.active { display: grid; }
        
        .section-title { grid-column: 1 / span 2; font-size: 16px; font-weight: bold; color: var(--main-red); margin: 10px 0 5px 0; border-right: 4px solid var(--main-red); padding-right: 10px; }

        .card { background: var(--card-bg); border-radius: 15px; overflow: hidden; box-shadow: 0 4px 12px rgba(0,0,0,0.08); transition: 0.2s; position: relative; }
        .card img { width: 100%; height: 135px; object-fit: cover; border-bottom: 3px solid var(--main-red); }
        .card-info { padding: 10px; font-size: 12px; text-align: center; font-weight: bold; }
        
        .card-price { display: block; color: var(--main-red); font-size: 11px; margin-top: 4px; font-weight: bold; }

        .card.new::after { content: "Ø¬Ø¯ÙŠØ¯"; position: absolute; top: 10px; right: 10px; background: var(--main-red); color: white; font-size: 10px; font-weight: bold; padding: 3px 10px; border-radius: 20px; z-index: 5; }

        #player, #series-overlay { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: var(--bg-page); z-index: 3000; flex-direction: column; overflow-y: auto; }
        .video-box { width: 100%; background: #000; position: sticky; top: 0; }
        .close-btn { position: absolute; top: 10px; left: 10px; background: rgba(0,0,0,0.5); color: white; border: none; padding: 8px 15px; border-radius: 20px; z-index: 4000; font-weight: bold; cursor: pointer; }

        /* Ø³ØªØ§ÙŠÙ„ Ù‚ÙÙ„ Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†Ø§Øª Ø§Ù„Ù…Ø­Ø¯Ø« */
        #ad-locker {
            display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: #000000; z-index: 9999; flex-direction: column;
            align-items: center; justify-content: center; color: white; text-align: center;
        }
        .locker-header { position: absolute; top: 20px; right: 20px; }
        .btn-close-red { background: #ff0000; color: white; border: none; padding: 10px 20px; font-weight: bold; border-radius: 5px; cursor: pointer; }
        .locker-title { color: #ff0000; font-size: 28px; font-weight: bold; margin-bottom: 30px; }
        .locker-desc { font-size: 18px; margin: 0 40px 40px 40px; line-height: 1.6; }
        .ad-link-btn { 
            background: #28a745; color: white; padding: 20px; width: 85%; max-width: 400px;
            text-decoration: none; border-radius: 12px; font-size: 20px; font-weight: bold;
            display: block; transition: 0.3s;
        }
    </style>
</head>
<body id="main-body">

<div id="ad-locker">
    <div class="locker-header">
        <button class="btn-close-red" onclick="closeLocker()">Ø¥ØºÙ„Ø§Ù‚ X</button>
    </div>
    <div class="locker-title" id="locker-status">ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ù…Ø´Ø§Ù‡Ø¯Ø©</div>
    <div class="locker-desc" id="locker-message">
        ÙŠØ¬Ø¨ Ø§Ù„Ø¶ØºØ· Ø¹Ù„Ù‰ Ø§Ù„Ø²Ø± Ø£Ø¯Ù†Ø§Ù‡ ÙˆØ§Ù„Ø¨Ù‚Ø§Ø¡ ÙÙŠ ØµÙØ­Ø© Ø§Ù„Ø¥Ø¹Ù„Ø§Ù† Ù„Ù…Ø¯Ø© 10 Ø«ÙˆØ§Ù†Ù Ù„ÙØªØ­ Ø§Ù„ÙÙŠØ¯ÙŠÙˆ
    </div>
    <a href="https://twigcrucialpal.com/kvwft44afa?key=cb80200a80e072a4d94407f211fa613c" target="_blank" id="smart-link-btn" class="ad-link-btn" onclick="startStrictCheck()">
        Ø´Ø§Ù‡Ø¯ Ø§Ù„Ø§Ø¹Ù„Ø§Ù† Ù„Ù…Ø¯Ø© 10 Ø«ÙˆØ§Ù†ÙŠ
    </a>
</div>

<div class="app-header">
    <div class="header-icons"><span onclick="toggleDarkMode()">ğŸŒ™</span><span onclick="document.getElementById('mainSearch').focus()">ğŸ”</span></div>
    <div class="app-title">[ÙˆØ§ØªÙ€Ø¨Ù€Ø§Ø¯ Ø§Ù„Ù€ÙÙ€Ù‚Ù€Ø±Ø§Ø¡]</div>
</div>

<div class="search-wrapper">
    <input type="text" id="mainSearch" class="search-input" placeholder="Ø§Ø¨Ø­Ø« Ø¹Ù† Ù…Ù†ØªØ¬ Ø£Ùˆ Ù‚ØµØ©..." onkeyup="filterNow()">
</div>

<div class="tabs">
    <button class="tab-btn active" onclick="showTab(event, 'watt-grid')">ğŸ“– Ø§Ù„Ù‚ØµØµ</button>
    <button class="tab-btn" onclick="showTab(event, 'ser-grid')">ğŸ¬ Ø§Ù„Ù…Ø³Ù„Ø³Ù„Ø§Øª</button>
    <button class="tab-btn" onclick="showTab(event, 'prod-grid')">ğŸ›ï¸ Ù…Ù†ØªØ¬Ø§ØªÙŠ</button>
    <button class="tab-btn" onclick="showTab(event, 'history-grid'); updateHistoryUI();">ğŸ•’ Ø§Ù„Ø³Ø¬Ù„</button>
</div>

<div class="grid active" id="watt-grid">
    <div class="card" data-title="Ù†Ù€Ù‡Ù€ÙˆØ© ØºÙ€Ø¸Ù€Ø¨ Ø§Ù„Ù€Ø´ÙŠÙ€Ø® + Ø¬Ù€Ø±ÙŠÙ€Ø¦Ù€Ø© ÙƒÙ€Ù„Ù€Ø´ || Ø§Ù„Ù€Ø¬Ù€Ø²Ø¡ Ø§Ù„Ø«Ø§Ù„Ø« Ø§Ù„Ø§Ø®ÙŠØ±" onclick="lockVideo('lyla_01', 'Ù†Ù€Ù‡Ù€ÙˆØ© ØºÙ€Ø¸Ù€Ø¨ Ø§Ù„Ù€Ø´ÙŠÙ€Ø® + Ø¬Ù€Ø±ÙŠÙ€Ø¦Ù€Ø© ÙƒÙ€Ù„Ù€Ø´ || Ø§Ù„Ù€Ø¬Ù€Ø²Ø¡ Ø§Ù„Ø«Ø§Ù„Ø« Ø§Ù„Ø§Ø®ÙŠØ±', 'https://pomf2.lain.la/f/9tc3wh3k.mp4', 'https://pomf2.lain.la/f/pdevqs9u.jpg')">
        <img src="https://pomf2.lain.la/f/pdevqs9u.jpg">
        <div class="card-info">Ù†Ù€Ù‡Ù€ÙˆØ© ØºÙ€Ø¸Ù€Ø¨ Ø§Ù„Ù€Ø´ÙŠÙ€Ø® + Ø¬Ù€Ø±ÙŠÙ€Ø¦Ù€Ø© ÙƒÙ€Ù„Ù€Ø´ || Ø§Ù„Ù€Ø¬Ù€Ø²Ø¡ Ø§Ù„Ø«Ø§Ù„Ø« Ø§Ù„Ø§Ø®ÙŠØ±</div>
    </div>
    <div class="card" data-title="Ù†Ù€Ù‡Ù€ÙˆØ© ØºÙ€Ø¸Ù€Ø¨ Ø§Ù„Ù€Ø´ÙŠÙ€Ø® + Ø¬Ù€Ø±ÙŠÙ€Ø¦Ù€Ø© ÙƒÙ€Ù„Ù€Ø´ || Ø§Ù„Ù€Ø¬Ù€Ø²Ø¡ Ø§Ù„Ø«Ø§Ù†ÙŠ" onclick="lockVideo('lyla_02', 'Ù†Ù€Ù‡Ù€ÙˆØ© ØºÙ€Ø¸Ù€Ø¨ Ø§Ù„Ù€Ø´ÙŠÙ€Ø® + Ø¬Ù€Ø±ÙŠÙ€Ø¦Ù€Ø© ÙƒÙ€Ù„Ù€Ø´ || Ø§Ù„Ù€Ø¬Ù€Ø²Ø¡ Ø§Ù„Ø«Ø§Ù†ÙŠ', 'https://pomf2.lain.la/f/3f7kq0jf.mp4', 'https://pomf2.lain.la/f/pdevqs9u.jpg')">
        <img src="https://pomf2.lain.la/f/pdevqs9u.jpg">
        <div class="card-info">Ù†Ù€Ù‡Ù€ÙˆØ© ØºÙ€Ø¸Ù€Ø¨ Ø§Ù„Ù€Ø´ÙŠÙ€Ø® + Ø¬Ù€Ø±ÙŠÙ€Ø¦Ù€Ø© ÙƒÙ€Ù„Ù€Ø´ || Ø§Ù„Ù€Ø¬Ù€Ø²Ø¡ Ø§Ù„Ø«Ø§Ù†ÙŠ</div>
    </div>
    <div class="card new" data-title="ØºØ²Ø§Ù„Ø© ÙÙŠ Ø¹Ø±ÙŠÙ† Ø§Ù„Ø§Ø³Ø¯" onclick="lockVideo('gh_1', 'ØºØ²Ø§Ù„Ø© ÙÙŠ Ø¹Ø±ÙŠÙ† Ø§Ù„Ø§Ø³Ø¯', 'https://pomf2.lain.la/f/asn9tb0.mp4', 'https://pomf2.lain.la/f/odvlatpw.jpg')">
        <img src="https://pomf2.lain.la/f/odvlatpw.jpg"><div class="card-info">Ù‚ØµØ© ØºØ²Ø§Ù„Ø© ÙÙŠ Ø¹Ø±ÙŠÙ† Ø§Ù„Ø§Ø³Ø¯</div>
    </div>
</div>

<div class="grid" id="ser-grid">
    <div class="card" data-title="Ù‡Ø°Ø§ Ø§Ù„Ø¨Ø­Ø± Ø³ÙˆÙ ÙŠÙÙŠØ¶" onclick="openSeries('series_sea', 'Ù‡Ø°Ø§ Ø§Ù„Ø¨Ø­Ø± Ø³ÙˆÙ ÙŠÙÙŠØ¶', 'https://pomf2.lain.la/f/2njdz3ym.jpg', ['Ø­Ù„Ù‚Ø© 1', 'Ø­Ù„Ù‚Ø© 2', 'Ø­Ù„Ù‚Ø© 3'])">
        <img src="https://pomf2.lain.la/f/2njdz3ym.jpg"><div class="card-info">Ù…Ø³Ù„Ø³Ù„ Ù‡Ø°Ø§ Ø§Ù„Ø¨Ø­Ø± Ø³ÙˆÙ ÙŠÙÙŠØ¶</div>
    </div>
</div>

<div class="grid" id="prod-grid">
    <div class="section-title">Ø£Ø¬Ù‡Ø²Ø© Ø§Ù„Ù…Ø·Ø¨Ø®</div>
    <div class="card" data-title="ÙƒØ§Ø¨Ø³Ø© ØµØ§Ø¬ Ø³Ø§Ù…ÙƒØ³" onclick="openProduct('ÙƒØ§Ø¨Ø³Ø© ØµØ§Ø¬ Ù…Ù† Ø³Ø§Ù…ÙƒØ³', 'ÙƒØ§Ø¨Ø³Ø© ØµØ§Ø¬ Ø¹Ù…Ù„ÙŠØ© ÙˆØ³Ø±ÙŠØ¹Ø© Ù…Ù† Ù…Ø§Ø±ÙƒØ© Ø³Ø§Ù…ÙƒØ³ Ø§Ù„Ø´Ù‡ÙŠØ±Ø©.', '25,000 Ø¯.Ø¹', ['https://pomf2.lain.la/f/rt8zjh9o.png', 'https://pomf2.lain.la/f/ibc3paos.png', 'https://pomf2.lain.la/f/grwm1uji.png'])">
        <img src="https://pomf2.lain.la/f/rt8zjh9o.png"><div class="card-info">ÙƒØ§Ø¨Ø³Ø© ØµØ§Ø¬ Ø³Ø§Ù…ÙƒØ³ <span class="card-price">25,000 Ø¯.Ø¹</span></div>
    </div>
</div>

<div class="grid" id="history-grid"></div>

<div id="player">
    <button class="close-btn" onclick="backToMain('player')">Ø¥ØºÙ„Ø§Ù‚</button>
    <div class="video-box" id="video-root"></div>
    <div class="product-details"><h2 id="v-title"></h2></div>
</div>

<script>
    let videoQueue = null;
    let startTime = 0;
    let isWatchingAd = false;

    function lockVideo(id, title, url, thumb) {
        videoQueue = {id, title, url, thumb};
        resetLocker();
        document.getElementById('ad-locker').style.display = 'flex';
    }

    function resetLocker() {
        isWatchingAd = false;
        startTime = 0;
        const btn = document.getElementById('smart-link-btn');
        const status = document.getElementById('locker-status');
        const msg = document.getElementById('locker-message');
        
        status.innerText = "ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ù…Ø´Ø§Ù‡Ø¯Ø©";
        status.style.color = "#ff0000";
        msg.innerText = "ÙŠØ¬Ø¨ Ø§Ù„Ø¶ØºØ· Ø¹Ù„Ù‰ Ø§Ù„Ø²Ø± Ø£Ø¯Ù†Ø§Ù‡ ÙˆØ§Ù„Ø¨Ù‚Ø§Ø¡ ÙÙŠ ØµÙØ­Ø© Ø§Ù„Ø¥Ø¹Ù„Ø§Ù† Ù„Ù…Ø¯Ø© 10 Ø«ÙˆØ§Ù†Ù Ù„ÙØªØ­ Ø§Ù„ÙÙŠØ¯ÙŠÙˆ";
        btn.innerText = "Ø´Ø§Ù‡Ø¯ Ø§Ù„Ø§Ø¹Ù„Ø§Ù† Ù„Ù…Ø¯Ø© 10 Ø«ÙˆØ§Ù†ÙŠ";
        btn.style.background = "#28a745";
        btn.href = "https://twigcrucialpal.com/kvwft44afa?key=cb80200a80e072a4d94407f211fa613c";
        btn.onclick = startStrictCheck;
    }

    function startStrictCheck() {
        startTime = Date.now();
        isWatchingAd = true;
        document.getElementById('smart-link-btn').innerText = "Ø¬Ø§Ø±ÙŠ ØªØªØ¨Ø¹ Ø§Ù„Ù…Ø´Ø§Ù‡Ø¯Ø©...";
    }

    // ØªÙ… ØªØ¹Ø¯ÙŠÙ„ Ù‡Ø°Ø§ Ø§Ù„Ø¬Ø²Ø¡ Ù„Ù…Ø±Ø§Ù‚Ø¨Ø© ÙˆÙ‚Øª Ø§Ù„Ø¨Ù‚Ø§Ø¡ Ø§Ù„ÙØ¹Ù„ÙŠ ÙˆÙ…Ù†Ø¹ Ø§Ù„Ø¹Ø¯ Ø§Ù„ØªÙ†Ø§Ø²Ù„ÙŠ Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠ
    window.onfocus = function() {
        if (isWatchingAd) {
            let duration = (Date.now() - startTime) / 1000;
            const btn = document.getElementById('smart-link-btn');
            const status = document.getElementById('locker-status');
            const msg = document.getElementById('locker-message');

            if (duration >= 10) {
                // Ø­Ø§Ù„Ø© Ø§Ù„Ù†Ø¬Ø§Ø­: Ø£ÙƒÙ…Ù„ Ø§Ù„ÙˆÙ‚Øª ÙØ¹Ù„ÙŠØ§Ù‹
                status.innerText = "ØªÙ… Ø§Ù„ØªØ­Ù‚Ù‚ Ø¨Ù†Ø¬Ø§Ø­ âœ…";
                status.style.color = "#28a745";
                msg.innerText = "Ù„Ù‚Ø¯ Ø£ÙƒÙ…Ù„Øª ÙˆÙ‚Øª Ø§Ù„Ù…Ø´Ø§Ù‡Ø¯Ø© Ø§Ù„Ù…Ø·Ù„ÙˆØ¨ØŒ Ø§Ø¶ØºØ· Ø¹Ù„Ù‰ Ø§Ù„Ø²Ø± Ø£Ø¯Ù†Ø§Ù‡ Ù„ÙØªØ­ Ø§Ù„ÙÙŠØ¯ÙŠÙˆ Ø§Ù„Ø¢Ù†.";
                btn.innerText = "ÙØªØ­ Ø§Ù„ÙÙŠØ¯ÙŠÙˆ Ø§Ù„Ø¢Ù†";
                btn.style.background = "#28a745";
                btn.onclick = function(e) {
                    e.preventDefault();
                    document.getElementById('ad-locker').style.display = 'none';
                    playMedia(videoQueue.id, videoQueue.title, videoQueue.url, videoQueue.thumb);
                };
            } else {
                // Ø­Ø§Ù„Ø© Ø§Ù„ÙØ´Ù„: Ø¹Ø§Ø¯ Ù‚Ø¨Ù„ Ø§Ù†ØªÙ‡Ø§Ø¡ Ø§Ù„ÙˆÙ‚Øª
                isWatchingAd = false;
                status.innerText = "ÙØ´Ù„ Ø§Ù„ØªØ­Ù‚Ù‚ âŒ";
                status.style.color = "#ff0000";
                msg.innerText = "Ù„Ù‚Ø¯ Ø®Ø±Ø¬Øª Ù…Ù† Ø§Ù„Ø¥Ø¹Ù„Ø§Ù† Ø¨Ø³Ø±Ø¹Ø© ÙƒØ¨ÙŠØ±Ø©! ÙŠØ¬Ø¨ Ø§Ù„Ø¨Ù‚Ø§Ø¡ ÙÙŠ ØµÙØ­Ø© Ø§Ù„Ø¥Ø¹Ù„Ø§Ù† Ù„Ù…Ø¯Ø© 10 Ø«ÙˆØ§Ù†Ù ÙƒØ§Ù…Ù„Ø© Ù„ÙØªØ­ Ø§Ù„ÙÙŠØ¯ÙŠÙˆ.";
                btn.innerText = "Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© (Ø§Ø¶ØºØ· Ù‡Ù†Ø§)";
                btn.style.background = "#ff0000";
                btn.onclick = function(e) {
                    resetLocker();
                };
            }
        }
    };

    function closeLocker() {
        document.getElementById('ad-locker').style.display = 'none';
        isWatchingAd = false;
    }

    function playMedia(id, title, url, thumb) {
        saveToHistory(id, title, url, thumb);
        document.getElementById('player').style.display = 'flex';
        document.getElementById('v-title').innerText = title;
        document.getElementById('video-root').innerHTML = `<video controls autoplay style="width:100%;"><source src="${url}" type="video/mp4"></video>`;
    }

    function saveToHistory(id, title, url, thumb) {
        let history = JSON.parse(localStorage.getItem('user_history') || '[]');
        history = history.filter(item => item.id !== id);
        history.unshift({id, title, url, thumb});
        localStorage.setItem('user_history', JSON.stringify(history.slice(0, 10)));
    }

    function updateHistoryUI() {
        const grid = document.getElementById('history-grid');
        const history = JSON.parse(localStorage.getItem('user_history') || '[]');
        grid.innerHTML = history.length ? history.map(item => `<div class="card" onclick="lockVideo('${item.id}', '${item.title}', '${item.url}', '${item.thumb}')"><img src="${item.thumb}"><div class="card-info">${item.title}</div></div>`).join('') : '<div style="grid-column:1/span 2; text-align:center; padding:20px;">Ø§Ù„Ø³Ø¬Ù„ ÙØ§Ø±Øº</div>';
    }

    function showTab(evt, id) { 
        document.querySelectorAll('.grid').forEach(g => g.classList.remove('active')); 
        document.querySelectorAll('.tab-btn').forEach(t => t.classList.remove('active'));
        document.getElementById(id).classList.add('active'); evt.currentTarget.classList.add('active'); 
    }
    
    function toggleDarkMode() { document.getElementById('main-body').classList.toggle('dark-theme'); }
    
    function filterNow() {
        let val = document.getElementById('mainSearch').value.toLowerCase();
        document.querySelectorAll('.card').forEach(c => {
            let title = c.getAttribute('data-title') || "";
            c.style.display = title.toLowerCase().includes(val) ? 'block' : 'none';
        });
    }

    function backToMain(id) { 
        document.getElementById(id).style.display = 'none'; 
        if(id==='player') document.getElementById('video-root').innerHTML=''; 
    }
</script>
</body>
</html>
