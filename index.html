<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>[ÙˆØ§ØªØ¨Ø§Ø¯ Ø§Ù„ÙÙ‚Ø±Ø§Ø¡]</title>
    
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon" href="https://pomf2.lain.la/f/odvlatpw.jpg">
    <meta name="theme-color" content="#e63946">

    <style>
        :root { 
            --main-red: #e63946; 
            --bg-dark: #0f0f0f;
            --card-bg: #1e1e1e;
            --text-white: #ffffff;
        }

        body { 
            background-color: var(--bg-dark); 
            color: var(--text-white); 
            font-family: 'Segoe UI', sans-serif; 
            margin: 0; padding: 0; 
            overflow-x: hidden;
        }

        /* Ø§Ù„Ù‡ÙŠØ¯Ø± */
        .app-header {
            background: rgba(15, 15, 15, 0.95);
            padding: 15px;
            text-align: center;
            border-bottom: 2px solid var(--main-red);
            position: sticky; top: 0; z-index: 1000;
            backdrop-filter: blur(10px);
        }

        /* Ø£Ø²Ø±Ø§Ø± Ø§Ù„Ø£Ù‚Ø³Ø§Ù… */
        .nav-tabs {
            display: flex; gap: 10px; padding: 15px;
        }
        .nav-btn {
            flex: 1; padding: 12px; border: none; border-radius: 8px;
            background: var(--card-bg); color: #aaa; font-weight: bold;
            cursor: pointer; transition: 0.3s;
        }
        .nav-btn.active { background: var(--main-red); color: white; }

        /* Ø§Ù„Ø´Ø¨ÙƒØ© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© Ù„Ù„Ù…Ø­ØªÙˆÙ‰ */
        .content-grid {
            display: grid; grid-template-columns: repeat(2, 1fr);
            gap: 15px; padding: 15px;
        }
        .content-card {
            background: var(--card-bg); border-radius: 12px;
            overflow: hidden; position: relative; transition: 0.3s;
        }
        .content-card:active { transform: scale(0.95); }
        .content-card img { width: 100%; height: 220px; object-fit: cover; }
        .content-card .title {
            padding: 10px; font-size: 13px; text-align: center; font-weight: bold;
        }

        /* ØµÙØ­Ø© Ø¹Ø±Ø¶ Ø§Ù„Ø­Ù„Ù‚Ø§Øª */
        #episodes-overlay {
            display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: var(--bg-dark); z-index: 2000; overflow-y: auto;
            animation: fadeIn 0.3s ease;
        }
        .ep-grid {
            display: grid; grid-template-columns: repeat(3, 1fr);
            gap: 10px; padding: 15px;
        }
        .ep-card {
            background: var(--card-bg); border: 1px solid #333;
            border-radius: 10px; padding: 15px 5px; text-align: center;
            font-size: 12px; font-weight: bold; cursor: pointer;
        }
        .ep-card:active { background: var(--main-red); }

        /* Ù…Ø´ØºÙ„ Ø§Ù„ÙÙŠØ¯ÙŠÙˆ Ø¨Ù…Ù„Ø¡ Ø§Ù„Ø´Ø§Ø´Ø© */
        #player-page {
            display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: #000; z-index: 3000; flex-direction: column;
        }
        .video-box { width: 100%; flex: 1; display: flex; align-items: center; }
        video { width: 100%; }

        /* Ù…Ù†Ø·Ù‚Ø© Ø§Ù„ØªÙØ§Ø¹Ù„ (Ù‚Ù„Ø¨ + ØªØ¹Ù„ÙŠÙ‚Ø§Øª) */
        .interaction-area {
            background: #1a1a1a; padding: 20px; border-radius: 25px 25px 0 0;
            max-height: 40%; overflow-y: auto;
        }
        .action-bar { display: flex; align-items: center; gap: 15px; margin-bottom: 20px; }
        .heart-icon { font-size: 30px; color: #444; transition: 0.3s; cursor: pointer; }
        .heart-icon.liked { color: var(--main-red); transform: scale(1.2); }

        .comment-box {
            background: #2a2a2a; border-radius: 10px; padding: 10px;
            display: flex; gap: 10px;
        }
        .comment-box input {
            flex: 1; background: none; border: none; color: white; outline: none;
        }
        .comments-feed { margin-top: 15px; font-size: 13px; color: #ccc; }

        .btn-close {
            position: absolute; top: 20px; right: 20px;
            background: var(--main-red); color: white; border: none;
            padding: 10px 20px; border-radius: 30px; font-weight: bold; z-index: 4000;
        }

        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
    </style>
</head>
<body>

<div class="app-header">
    <h1>[ÙˆØ§ØªÙ€Ø¨Ù€Ø§Ø¯ Ø§Ù„Ù€ÙÙ€Ù‚Ù€Ø±Ø§Ø¡]</h1>
</div>

<div class="nav-tabs">
    <button class="nav-btn active" onclick="loadContent('wattpad')">ğŸ“– Ø§Ù„Ù‚ØµØµ</button>
    <button class="nav-btn" onclick="loadContent('series')">ğŸ¬ Ø§Ù„Ù…Ø³Ù„Ø³Ù„Ø§Øª</button>
</div>

<div id="main-grid" class="content-grid"></div>

<div id="episodes-overlay">
    <button class="btn-close" onclick="closeOverlay('episodes-overlay')">Ø±Ø¬ÙˆØ¹</button>
    <div id="ep-header-img"></div>
    <h3 id="ep-title" style="padding:15px; margin:0;"></h3>
    <div class="ep-grid" id="ep-list-container"></div>
</div>

<div id="player-page">
    <button class="btn-close" onclick="closePlayer()">Ø¥ØºÙ„Ø§Ù‚</button>
    <div class="video-box" id="video-container"></div>
    
    <div class="interaction-area">
        <div class="action-bar">
            <span id="heartIcon" class="heart-icon" onclick="hitLike()">â¤</span>
            <span style="font-weight:bold;">Ø£Ø¹Ø¬Ø¨Ù†ÙŠ</span>
        </div>
        <div class="comment-box">
            <input type="text" id="userComment" placeholder="Ø§ÙƒØªØ¨ ØªØ¹Ù„ÙŠÙ‚Ùƒ Ù‡Ù†Ø§..." onkeypress="postComment(event)">
            <button style="background:none; border:none; color:var(--main-red); font-weight:bold;">Ù†Ø´Ø±</button>
        </div>
        <div class="comments-feed" id="feed"></div>
    </div>
</div>

<script>
    const database = {
        wattpad: [
            { id: 101, title: "ØºØ²Ø§Ù„Ø© ÙÙŠ Ø¹Ø±ÙŠÙ† Ø§Ù„Ø§Ø³Ø¯", img: "https://pomf2.lain.la/f/odvlatpw.jpg", 
              eps: ["Ø§Ù„Ø¬Ø²Ø¡ 1", "Ø§Ù„Ø¬Ø²Ø¡ 2", "Ø§Ù„Ø¬Ø²Ø¡ 3", "Ø§Ù„Ø¬Ø²Ø¡ 4", "Ø§Ù„Ø¬Ø²Ø¡ Ø§Ù„Ø£Ø®ÙŠØ±"] }
        ],
        series: [
            { id: 201, title: "Ù‡Ø°Ø§ Ø§Ù„Ø¨Ø­Ø± Ø³ÙˆÙ ÙŠÙÙŠØ¶", img: "https://pomf2.lain.la/f/2njdz3ym.jpg", 
              eps: ["Ø§Ù„Ø­Ù„Ù‚Ø© 1", "Ø§Ù„Ø­Ù„Ù‚Ø© 2", "Ø§Ù„Ø­Ù„Ù‚Ø© 3", "Ø§Ù„Ø­Ù„Ù‚Ø© 4", "Ø§Ù„Ø­Ù„Ù‚Ø© 5", "Ø§Ù„Ø­Ù„Ù‚Ø© 6"] }
        ]
    };

    function loadContent(type) {
        const container = document.getElementById('main-grid');
        container.innerHTML = '';
        document.querySelectorAll('.nav-btn').forEach(b => b.classList.remove('active'));
        event.target.classList.add('active');

        database[type].forEach(item => {
            container.innerHTML += `
                <div class="content-card" onclick="showEpisodes(${JSON.stringify(item.eps).replace(/"/g, '&quot;')}, '${item.title}', '${item.img}')">
                    <img src="${item.img}">
                    <div class="title">${item.title}</div>
                </div>
            `;
        });
    }

    function showEpisodes(eps, title, img) {
        document.getElementById('episodes-overlay').style.display = 'block';
        document.getElementById('ep-title').innerText = title;
        document.getElementById('ep-header-img').innerHTML = `<img src="${img}" style="width:100%; height:200px; object-fit:cover; opacity:0.5;">`;
        
        const list = document.getElementById('ep-list-container');
        list.innerHTML = eps.map(e => `<div class="ep-card" onclick="playFlow()">${e}</div>`).join('');
    }

    function playFlow() {
        window.open("https://twigcrucialpal.com/kvwft44afa?key=cb80200a80e072a4d94407f211fa613c", '_blank');
        alert("Ø§Ù†ØªØ¸Ø± 10 Ø«ÙˆØ§Ù†Ù ÙÙŠ ØµÙØ­Ø© Ø§Ù„Ø¥Ø¹Ù„Ø§Ù† Ø«Ù… Ø¹Ø¯ Ù„ØªØ´ØºÙŠÙ„ Ø§Ù„Ù…Ù‚Ø·Ø¹");
        
        setTimeout(() => {
            document.getElementById('player-page').style.display = 'flex';
            document.getElementById('video-container').innerHTML = `
                <video controls autoplay>
                    <source src="https://pomf2.lain.la/f/asn9tb0.mp4" type="video/mp4">
                </video>`;
        }, 5000);
    }

    function hitLike() {
        document.getElementById('heartIcon').classList.toggle('liked');
    }

    function postComment(e) {
        if(e.key === 'Enter') {
            const input = document.getElementById('userComment');
            if(input.value.trim() !== "") {
                const feed = document.getElementById('feed');
                feed.innerHTML = `<div style="margin-bottom:8px;">ğŸ‘¤ <b>Ø²Ø§Ø¦Ø±:</b> ${input.value}</div>` + feed.innerHTML;
                input.value = "";
            }
        }
    }

    function closeOverlay(id) { document.getElementById(id).style.display = 'none'; }
    function closePlayer() { 
        document.getElementById('player-page').style.display = 'none';
        document.getElementById('video-container').innerHTML = '';
    }

    // ØªØ´ØºÙŠÙ„ Ø§Ù„Ù‚Ø³Ù… Ø§Ù„Ø£ÙˆÙ„ Ø¹Ù†Ø¯ Ø§Ù„ÙØªØ­
    loadContent('wattpad');
</script>

</body>
</html>
