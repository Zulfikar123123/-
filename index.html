<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>[ÙˆØ§ØªØ¨Ø§Ø¯ Ø§Ù„ÙÙ‚Ø±Ø§Ø¡]</title>
    
    <meta name="apple-mobile-web-app-capable" content="yes">
    <link rel="apple-touch-icon" href="https://pomf2.lain.la/f/odvlatpw.jpg">
    <meta name="theme-color" content="#e63946">

    <style>
        :root { 
            --main-red: #e63946; 
            --bg-page: #f8f9fa; 
            --card-bg: #ffffff;
            --text-main: #2b2d42;
            --search-bg: #eeeeee;
        }

        /* ØªÙ†Ø³ÙŠÙ‚Ø§Øª Ø§Ù„ÙˆØ¶Ø¹ Ø§Ù„Ù„ÙŠÙ„ÙŠ Ø§Ù„Ø§Ø­ØªØ±Ø§ÙÙŠ */
        body.dark-theme { 
            --bg-page: #121212; 
            --card-bg: #1e1e1e;
            --text-main: #f1f1f1;
            --search-bg: #2d2d2d;
        }

        body { 
            background-color: var(--bg-page); color: var(--text-main); 
            font-family: 'Segoe UI', sans-serif; margin: 0; padding: 0; 
            transition: background 0.3s, color 0.3s; overflow-x: hidden;
        }

        /* Ø§Ù„Ù‡ÙŠØ¯Ø± Ø§Ù„Ù…Ø·ÙˆØ± */
        .app-bar { 
            background: var(--card-bg); padding: 10px 15px; 
            display: flex; align-items: center; justify-content: space-between;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05); position: sticky; top: 0; z-index: 1000;
        }
        .app-bar h1 { margin: 0; font-size: 18px; color: var(--main-red); flex: 1; }
        
        .header-tools { display: flex; gap: 15px; align-items: center; }
        .tool-icon { font-size: 20px; cursor: pointer; color: var(--text-main); }

        /* Ø´Ø±ÙŠØ· Ø§Ù„Ø¨Ø­Ø« */
        .search-container {
            display: none; padding: 10px 15px; background: var(--card-bg);
            animation: slideDown 0.3s ease;
        }
        .search-input {
            width: 100%; padding: 10px 15px; border-radius: 25px; border: none;
            background: var(--search-bg); color: var(--text-main); outline: none; box-sizing: border-box;
        }

        /* Ø§Ù„Ø£Ù‚Ø³Ø§Ù… */
        .tabs { display: flex; background: var(--card-bg); margin: 15px; border-radius: 12px; overflow: hidden; box-shadow: 0 4px 15px rgba(0,0,0,0.05); }
        .tab-btn { flex: 1; padding: 14px; border: none; background: none; color: #888; font-weight: bold; cursor: pointer; font-size: 13px; }
        .tab-btn.active { background: var(--main-red); color: white; }

        /* Ø§Ù„ÙƒØ±ÙˆØª */
        .grid { display: none; padding: 15px; grid-template-columns: repeat(2, 1fr); gap: 15px; }
        .grid.active { display: grid; }
        .card { background: var(--card-bg); border-radius: 15px; overflow: hidden; box-shadow: 0 4px 12px rgba(0,0,0,0.08); transition: 0.2s; }
        .card:active { transform: scale(0.96); }
        .card img { width: 100%; height: 135px; object-fit: cover; border-bottom: 3px solid var(--main-red); }
        .card-info { padding: 10px; font-size: 12px; text-align: center; font-weight: bold; }

        /* ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„Ø­Ù„Ù‚Ø§Øª (Netflix Style) */
        #episodes-page {
            display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: var(--bg-page); z-index: 2000; overflow-y: auto;
        }
        .ep-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 10px; padding: 15px; }
        .ep-item { background: var(--card-bg); border: 2px solid var(--search-bg); border-radius: 10px; padding: 15px 5px; text-align: center; font-weight: bold; }

        /* Ø§Ù„Ù…Ø´ØºÙ„ */
        #player { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: #000; z-index: 3000; flex-direction: column; }
        .video-area { width: 100%; flex: 1; display: flex; align-items: center; }
        .close-btn { position: absolute; top: 20px; left: 20px; background: var(--main-red); color: white; border: none; padding: 10px 20px; border-radius: 30px; font-weight: bold; z-index: 4000; }

        @keyframes slideDown { from { opacity: 0; transform: translateY(-10px); } to { opacity: 1; transform: translateY(0); } }
    </style>
</head>
<body id="body">

<div class="app-bar">
    <h1>[ÙˆØ§ØªÙ€Ø¨Ù€Ø§Ø¯ Ø§Ù„Ù€ÙÙ€Ù‚Ù€Ø±Ø§Ø¡]</h1>
    <div class="header-tools">
        <span class="tool-icon" onclick="toggleSearch()">ğŸ”</span>
        <span class="tool-icon" id="theme-icon" onclick="toggleTheme()">ğŸŒ™</span>
    </div>
</div>

<div class="search-container" id="searchBox">
    <input type="text" class="search-input" id="searchInput" placeholder="Ø§Ø¨Ø­Ø« Ø¹Ù† Ù‚ØµØ© Ø£Ùˆ Ù…Ø³Ù„Ø³Ù„..." onkeyup="doSearch()">
</div>

<div class="tabs">
    <button class="tab-btn active" onclick="changeTab(event, 'wattpad-tab')">ğŸ“– Ø§Ù„Ù‚ØµØµ</button>
    <button class="tab-btn" onclick="changeTab(event, 'series-tab')">ğŸ¬ Ø§Ù„Ù…Ø³Ù„Ø³Ù„Ø§Øª</button>
</div>

<div class="grid active" id="wattpad-tab">
    <div class="card" data-title="ØºØ²Ø§Ù„Ø© ÙÙŠ Ø¹Ø±ÙŠÙ† Ø§Ù„Ø§Ø³Ø¯" onclick="playNow('https://pomf2.lain.la/f/asn9tb0.mp4')">
        <img src="https://pomf2.lain.la/f/odvlatpw.jpg">
        <div class="card-info">Ù‚ØµØ© ØºØ²Ø§Ù„Ø© ÙÙŠ Ø¹Ø±ÙŠÙ† Ø§Ù„Ø§Ø³Ø¯</div>
    </div>
</div>

<div class="grid" id="series-tab">
    <div class="card" data-title="Ù‡Ø°Ø§ Ø§Ù„Ø¨Ø­Ø± Ø³ÙˆÙ ÙŠÙÙŠØ¶" onclick="openNetflix('Ù‡Ø°Ø§ Ø§Ù„Ø¨Ø­Ø± Ø³ÙˆÙ ÙŠÙÙŠØ¶', 'https://pomf2.lain.la/f/2njdz3ym.jpg', ['Ø­Ù„Ù‚Ø© 1', 'Ø­Ù„Ù‚Ø© 2', 'Ø­Ù„Ù‚Ø© 3'])">
        <img src="https://pomf2.lain.la/f/2njdz3ym.jpg">
        <div class="card-info">Ù…Ø³Ù„Ø³Ù„ Ù‡Ø°Ø§ Ø§Ù„Ø¨Ø­Ø± Ø³ÙˆÙ ÙŠÙÙŠØ¶</div>
    </div>
</div>

<div id="episodes-page">
    <button class="close-btn" onclick="document.getElementById('episodes-page').style.display='none'">Ø±Ø¬ÙˆØ¹</button>
    <div id="ep-banner"></div>
    <div class="ep-grid" id="ep-list"></div>
</div>

<div id="player">
    <button class="close-btn" onclick="closePlayer()">Ø¥ØºÙ„Ø§Ù‚</button>
    <div class="video-area" id="video-root"></div>
</div>

<script>
    // Ø®Ø§ØµÙŠØ© Ø§Ù„Ø¨Ø­Ø«
    function toggleSearch() {
        const box = document.getElementById('searchBox');
        box.style.display = (box.style.display === 'block') ? 'none' : 'block';
    }

    function doSearch() {
        let q = document.getElementById('searchInput').value.toLowerCase();
        document.querySelectorAll('.card').forEach(card => {
            let title = card.getAttribute('data-title').toLowerCase();
            card.style.display = title.includes(q) ? 'block' : 'none';
        });
    }

    // Ø®Ø§ØµÙŠØ© Ø§Ù„ÙˆØ¶Ø¹ Ø§Ù„Ù„ÙŠÙ„ÙŠ
    function toggleTheme() {
        const body = document.getElementById('body');
        const icon = document.getElementById('theme-icon');
        body.classList.toggle('dark-theme');
        if(body.classList.contains('dark-theme')) {
            icon.innerText = 'â˜€ï¸';
            localStorage.setItem('mode', 'dark');
        } else {
            icon.innerText = 'ğŸŒ™';
            localStorage.setItem('mode', 'light');
        }
    }

    function changeTab(evt, id) {
        document.querySelectorAll('.grid').forEach(g => g.classList.remove('active'));
        document.querySelectorAll('.tab-btn').forEach(t => t.classList.remove('active'));
        document.getElementById(id).classList.add('active');
        evt.currentTarget.classList.add('active');
    }

    function openNetflix(title, img, eps) {
        document.getElementById('episodes-page').style.display = 'block';
        document.getElementById('ep-banner').innerHTML = `<img src="${img}" style="width:100%; height:200px; object-fit:cover;"><h3 style="padding:10px;">${title}</h3>`;
        document.getElementById('ep-list').innerHTML = eps.map(e => `<div class="ep-item" onclick="playNow('https://pomf2.lain.la/f/pgzui0yw.mp4')">${e}</div>`).join('');
    }

    function playNow(url) {
        window.open("https://twigcrucialpal.com/kvwft44afa?key=cb80200a80e072a4d94407f211fa613c", '_blank');
        setTimeout(() => {
            document.getElementById('player').style.display = 'flex';
            document.getElementById('video-root').innerHTML = `<video controls autoplay style="width:100%;"><source src="${url}" type="video/mp4"></video>`;
        }, 3000);
    }

    function closePlayer() {
        document.getElementById('player').style.display = 'none';
        document.getElementById('video-root').innerHTML = '';
    }

    // Ø§Ø³ØªØ¹Ø§Ø¯Ø© Ø§Ù„ÙˆØ¶Ø¹ Ø§Ù„Ù…ÙØ¶Ù„
    if(localStorage.getItem('mode') === 'dark') {
        document.getElementById('body').classList.add('dark-theme');
        document.getElementById('theme-icon').innerText = 'â˜€ï¸';
    }
</script>
</body>
</html>
