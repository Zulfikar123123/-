<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Video Hub Pro</title>
    <style>
        :root { --main-red: #ff0000; --bg-black: #0a0a0a; --card-bg: #111; --btn-green: #28a745; }
        body { background-color: var(--bg-black); color: white; font-family: sans-serif; margin: 0; padding: 0; overflow-x: hidden; }
        
        .header { background: #1a1a1a; padding: 15px; text-align: center; border-bottom: 2px solid var(--main-red); }
        .header h1 { margin: 0; font-size: 18px; color: var(--main-red); }

        /* الأقسام */
        .tabs-container { display: flex; background: #1a1a1a; border-bottom: 1px solid #333; position: sticky; top: 0; z-index: 999; }
        .tab-btn { flex: 1; padding: 15px; border: none; background: none; color: #888; font-weight: bold; cursor: pointer; border-bottom: 3px solid transparent; }
        .tab-btn.active { color: var(--main-red); border-bottom-color: var(--main-red); background: #222; }

        .container { padding: 12px; display: none; grid-template-columns: repeat(2, 1fr); gap: 10px; }
        .container.active { display: grid; }

        .video-card { background: var(--card-bg); border-radius: 8px; overflow: hidden; border: 1px solid #222; cursor: pointer; }
        .video-card img { width: 100%; height: 110px; object-fit: cover; display: block; }
        .video-info { padding: 8px; font-size: 11px; text-align: center; font-weight: bold; background: #161616; min-height: 35px; }
        
        #player-overlay { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: #000; z-index: 10000; }
        .close-btn { position: absolute; top: 15px; right: 15px; background: var(--main-red); color: white; border: none; padding: 8px 15px; border-radius: 4px; z-index: 10001; font-weight: bold; }
        
        #waiting-screen { position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); text-align: center; width: 90%; }
        .ad-btn { background: var(--btn-green); color: white; padding: 20px; border: none; border-radius: 8px; font-size: 16px; font-weight: bold; width: 100%; margin-top: 20px; }
        
        iframe { width: 100%; height: 100%; border: none; display: none; }
    </style>
</head>
<body>

<div class="header"><h1> [واتـبـاد الـفـقـراء]</h1></div>

<div class="tabs-container">
    <button class="tab-btn active" onclick="switchTab(event, 'wattpad-section')">قصص واتباد الفقراء</button>
    <button class="tab-btn" onclick="switchTab(event, 'turkish-section')">قصة عشق</button>
</div>

<div class="container active" id="wattpad-section"></div>
<div class="container" id="turkish-section"></div>

<div id="player-overlay">
    <button class="close-btn" onclick="closePlayer()">إغلاق X</button>
    <div id="waiting-screen">
        <h2 id="wait-title" style="color: var(--main-red);">تأكيد المشاهدة</h2>
        <p id="wait-msg">اضغط على الزر وانتظر 10 ثوانٍ في صفحة الإعلان</p>
        <button id="trigger-ad-btn" class="ad-btn" onclick="openAd()">فتح المقطع (10 ثوانٍ)</button>
    </div>
    <iframe id="video-iframe" src="" allowfullscreen></iframe>
</div>

<script>
    // بيانات واتباد
    const wattpadVideos = [
        { title: "غـزالـة فـي عـريـن الاسـد - الجزء 4", img: "https://pomf2.lain.la/f/odvlatpw.jpg", url: "https://pomf2.lain.la/f/asn9tb0.mp4" },
        { title: "نـهـوة وحـب ودخـيلـة - الجزء 3", img: "https://pomf2.lain.la/f/4rn9gfoy.jpg", url: "https://pomf2.lain.la/f/pf98t6l7.mp4" }
    ];

    // بيانات قصة عشق - هنا قمت بوضع روابط عشوائية للتجربة فقط
    const turkishVideos = [
        { title: "مسلسل هذا البحر سوف يفيض - الحلقة 1", img: "https://pomf2.lain.la/f/2njdz3ym.jpg", url: "https://pomf2.lain.la/f/jlyrjnqz.mp4" },
        { title: "مسلسل هذا البحر سوف يفيض - الحلقة 2", img: "https://pomf2.lain.la/f/2njdz3ym.jpg", url: "https://pomf2.lain.la/f/htkrfc1j.mp4" }
    ];

    let currentVideoUrl = "";
    let startTime = 0;
    let timerStarted = false;

    function displayVideos(videoArray, containerId) {
        const container = document.getElementById(containerId);
        videoArray.forEach(vid => {
            container.innerHTML += `
                <div class="video-card" onclick="preparePlayer('${vid.url}')">
                    <img src="${vid.img}">
                    <div class="video-info">${vid.title}</div>
                </div>`;
        });
    }

    displayVideos(wattpadVideos, 'wattpad-section');
    displayVideos(turkishVideos, 'turkish-section');

    function switchTab(evt, sectionId) {
        document.querySelectorAll('.container').forEach(c => c.classList.remove('active'));
        document.querySelectorAll('.tab-btn').forEach(t => t.classList.remove('active'));
        document.getElementById(sectionId).classList.add('active');
        evt.currentTarget.classList.add('active');
    }

    function preparePlayer(videoUrl) {
        currentVideoUrl = videoUrl;
        timerStarted = false;
        document.getElementById('player-overlay').style.display = 'block';
        document.getElementById('waiting-screen').style.display = 'block';
        document.getElementById('video-iframe').style.display = 'none';
        document.getElementById('video-iframe').src = "";
    }

    function openAd() {
        window.open("https://twigcrucialpal.com/kvwft44afa?key=cb80200a80e072a4d94407f211fa613c", '_blank');
        startTime = new Date().getTime(); 
        timerStarted = true;
    }

    window.onfocus = function() {
        if (timerStarted) {
            let secondsPassed = Math.floor((new Date().getTime() - startTime) / 1000);
            if (secondsPassed >= 10) {
                document.getElementById('waiting-screen').style.display = 'none';
                const ifr = document.getElementById('video-iframe');
                ifr.src = currentVideoUrl;
                ifr.style.display = 'block';
                timerStarted = false;
            } else {
                alert("يجب البقاء في صفحة الإعلان 10 ثوانٍ!");
            }
        }
    };

    function closePlayer() {
        document.getElementById('player-overlay').style.display = 'none';
        document.getElementById('video-iframe').src = "";
        timerStarted = false;
    }
</script>
</body>
</html>
