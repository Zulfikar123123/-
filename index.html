<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Video Hub Pro | App Experience</title>
    <style>
        :root { 
            --main-red: #e63946; 
            --bg-page: #f8f9fa; 
            --card-bg: #ffffff;
            --text-color: #2b2d42;
           --shadow: 0 4px 15px rgba(0,0,0,0.08);
        }

        /* Ù…ÙŠØ²Ø© Ø§Ù„ÙˆØ¶Ø¹ Ø§Ù„Ù„ÙŠÙ„ÙŠ */
        .dark-mode { 
            --bg-page: #121212; 
            --card-bg: #1e1e1e;
            --text-color: #f1f1f1;
            --shadow: 0 4px 15px rgba(0,0,0,0.4);
        }

        body { 
            background-color: var(--bg-page); 
            color: var(--text-color); 
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; 
            margin: 0; padding: 0; transition: 0.3s;
        }

        .header { 
            background: var(--card-bg); padding: 15px; text-align: center; 
            box-shadow: var(--shadow); position: sticky; top: 0; z-index: 1000;
        }

        /* Ø£Ø¯ÙˆØ§Øª Ø§Ù„ØªØ­ÙƒÙ… (Ø§Ù„Ø¨Ø­Ø« ÙˆØ§Ù„ÙˆØ¶Ø¹ Ø§Ù„Ù„ÙŠÙ„ÙŠ) */
        .controls { padding: 10px 15px; display: flex; gap: 10px; align-items: center; }
        #searchBar { 
            flex: 1; padding: 12px; border-radius: 25px; border: 1px solid #ddd; 
            outline: none; background: var(--card-bg); color: var(--text-color);
        }
        .theme-toggle { 
            background: var(--main-red); color: white; border: none; 
            padding: 10px; border-radius: 50%; cursor: pointer; width: 40px; height: 40px;
        }

        .tabs-container { display: flex; background: var(--card-bg); margin: 10px 15px; border-radius: 12px; box-shadow: var(--shadow); overflow: hidden; }
        .tab-btn { flex: 1; padding: 15px; border: none; background: none; color: #888; font-weight: bold; cursor: pointer; font-size: 13px; }
        .tab-btn.active { background: var(--main-red); color: white; }

        .section-title { padding: 0 20px; font-size: 16px; font-weight: bold; color: var(--main-red); margin-top: 10px; }

        .container { padding: 15px; display: none; grid-template-columns: repeat(2, 1fr); gap: 15px; }
        .container.active { display: grid; }

        /* Ù…ÙŠØ²Ø© Ø§Ù„Ø¨Ø·Ø§Ù‚Ø§Øª Ø§Ù„ØªÙØ§Ø¹Ù„ÙŠØ© */
        .video-card { 
            background: var(--card-bg); border-radius: 15px; overflow: hidden; 
            box-shadow: var(--shadow); transition: 0.3s; position: relative; animation: slideUp 0.4s ease;
        }
        .video-card:active { transform: scale(0.95); }
        
        /* Ø´Ø§Ø±Ø© "Ø¬Ø¯ÙŠØ¯" */
        .badge-new { 
            position: absolute; top: 8px; right: 8px; background: var(--main-red); 
            color: white; font-size: 10px; padding: 3px 8px; border-radius: 5px; font-weight: bold; z-index: 2;
        }

        .video-card img { width: 100%; height: 120px; object-fit: cover; }
        .video-info { padding: 10px; font-size: 12px; text-align: center; font-weight: bold; min-height: 40px; }

        @keyframes slideUp { from { opacity:0; transform: translateY(20px); } to { opacity:1; transform: translateY(0); } }

        /* Ù…Ø´ØºÙ„ Ø§Ù„ÙÙŠØ¯ÙŠÙˆ */
        #player-overlay { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: var(--bg-page); z-index: 10000; }
        .close-btn { position: absolute; top: 20px; left: 20px; background: var(--main-red); color: white; border: none; padding: 10px 20px; border-radius: 30px; z-index: 11000; }
        
        #waiting-screen { position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); text-align: center; width: 85%; }
        .ad-btn { background: #28a745; color: white; padding: 18px; border: none; border-radius: 12px; font-size: 16px; font-weight: bold; width: 100%; margin-top: 20px; }

        iframe { width: 100%; height: 100%; border: none; display: none; }
    </style>
</head>
<body>

<div class="header"><h1> [ÙˆØ§ØªÙ€Ø¨Ù€Ø§Ø¯ Ø§Ù„Ù€ÙÙ€Ù‚Ù€Ø±Ø§Ø¡] </h1></div>

<div class="controls">
    <input type="text" id="searchBar" placeholder="Ø§Ø¨Ø­Ø« Ø¹Ù† Ù‚ØµØ© Ø£Ùˆ Ø­Ù„Ù‚Ø©..." onkeyup="filterContent()">
    <button class="theme-toggle" onclick="toggleTheme()">ğŸŒ“</button>
</div>

<div id="recent-title" class="section-title" style="display: none;">âŒš Ø´ÙˆÙ‡Ø¯ Ù…Ø¤Ø®Ø±Ø§Ù‹</div>
<div class="container active" id="recent-section" style="grid-template-columns: repeat(2, 1fr); padding-bottom: 0;"></div>

<div class="tabs-container">
    <button class="tab-btn active" id="tab1" onclick="switchTab(event, 'wattpad-section')">ğŸ“– Ù‚ØµØµ ÙˆØ§ØªØ¨Ø§Ø¯ Ø§Ù„ÙÙ‚Ø±Ø§Ø¡</button>
    <button class="tab-btn" id="tab2" onclick="switchTab(event, 'turkish-section')">ğŸ¬ Ù…Ø³Ù„Ø³Ù„Ø§Øª Ù‚ØµØ© Ø¹Ø´Ù‚</button>
</div>

<div class="container active" id="wattpad-section"></div>
<div class="container" id="turkish-section"></div>

<div id="player-overlay">
    <button class="close-btn" onclick="closePlayer()">Ø±Ø¬ÙˆØ¹</button>
    <div id="waiting-screen">
        <h2 style="color: var(--main-red);">ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø¯Ø®ÙˆÙ„</h2>
        <p>ÙŠØ±Ø¬Ù‰ Ø§Ù„Ø¶ØºØ· Ø¹Ù„Ù‰ Ø§Ù„Ø²Ø± ÙˆØ§Ù„Ø§Ù†ØªØ¸Ø§Ø± 10 Ø«ÙˆØ§Ù†Ù Ù„ÙØªØ­ Ø§Ù„Ù…Ø­ØªÙˆÙ‰</p>
        <button class="ad-btn" onclick="openAd()">Ø§Ø¶ØºØ· Ù‡Ù†Ø§ Ù„Ù„ÙØªØ­</button>
    </div>
    <iframe id="video-iframe" allowfullscreen></iframe>
</div>

<script>
    const wattpadVideos = [
        { id: 1, title: "ØºØ²Ø§Ù„Ø© ÙÙŠ Ø¹Ø±ÙŠÙ† Ø§Ù„Ø§Ø³Ø¯ - Ø§Ù„Ø£Ø®ÙŠØ±", img: "https://pomf2.lain.la/f/odvlatpw.jpg", url: "https://pomf2.lain.la/f/asn9tb0.mp4", isNew: true },
        { id: 2, title: "Ø®Ø° Ø¨ÙŠØ¯ÙŠ Ø§Ù„Ù‰ Ø§Ø­Ø¶Ø§Ù†Ùƒ - Ø¬3", img: "https://pomf2.lain.la/f/2njdz3ym.jpg", url: "https://pomf2.lain.la/f/jlyrjnqz.mp4", isNew: false },
        { id: 3, title: "Ù†Ù‡ÙˆØ© ÙˆØ­Ø¨ ÙˆØ¯Ø®ÙŠÙ„Ø© - Ø¬2", img: "https://pomf2.lain.la/f/4rn9gfoy.jpg", url: "https://pomf2.lain.la/f/gk6vjy34.mp4", isNew: false }
    ];

    const turkishVideos = [
        { id: 4, title: "Ù‡Ø°Ø§ Ø§Ù„Ø¨Ø­Ø± Ø³ÙˆÙ ÙŠÙÙŠØ¶ - Ø­1", img: "https://pomf2.lain.la/f/2njdz3ym.jpg", url: "https://pomf2.lain.la/f/pgzui0yw.mp4", isNew: true },
        { id: 5, title: "Ù‡Ø°Ø§ Ø§Ù„Ø¨Ø­Ø± Ø³ÙˆÙ ÙŠÙÙŠØ¶ - Ø­2", img: "https://pomf2.lain.la/f/2njdz3ym.jpg", url: "https://pomf2.lain.la/f/zc3oo4c.mp4", isNew: true }
    ];

    let currentVideo = null;
    let startTime = 0;
    let timerStarted = false;

    // Ù…ÙŠØ²Ø© Ø­ÙØ¸ "Ø´ÙˆÙ‡Ø¯ Ù…Ø¤Ø®Ø±Ø§Ù‹"
    let recentlyWatched = JSON.parse(localStorage.getItem('recent')) || [];

    function init() {
        renderVideos(wattpadVideos, 'wattpad-section');
        renderVideos(turkishVideos, 'turkish-section');
        renderRecent();
    }

    function renderVideos(data, containerId) {
        const container = document.getElementById(containerId);
        container.innerHTML = data.map(vid => `
            <div class="video-card" data-title="${vid.title}" onclick="preparePlayer(${JSON.stringify(vid).replace(/"/g, '&quot;')})">
                ${vid.isNew ? '<div class="badge-new">Ø¬Ø¯ÙŠØ¯</div>' : ''}
                <img src="${vid.img}">
                <div class="video-info">${vid.title}</div>
            </div>
        `).join('');
    }

    function switchTab(evt, sectionId) {
        document.querySelectorAll('.container').forEach(c => c.id !== 'recent-section' && (c.style.display = 'none'));
        document.querySelectorAll('.tab-btn').forEach(t => t.classList.remove('active'));
        document.getElementById(sectionId).style.display = 'grid';
        evt.currentTarget.classList.add('active');
    }

    // Ù…ÙŠØ²Ø© Ø§Ù„Ø¨Ø­Ø«
    function filterContent() {
        let query = document.getElementById('searchBar').value.toLowerCase();
        document.querySelectorAll('.video-card').forEach(card => {
            let title = card.getAttribute('data-title').toLowerCase();
            card.style.display = title.includes(query) ? 'block' : 'none';
        });
    }

    // Ù…ÙŠØ²Ø© Ø§Ù„ÙˆØ¶Ø¹ Ø§Ù„Ù„ÙŠÙ„ÙŠ
    function toggleTheme() {
        document.body.classList.toggle('dark-mode');
        localStorage.setItem('theme', document.body.classList.contains('dark-mode') ? 'dark' : 'light');
    }

    function preparePlayer(vid) {
        currentVideo = vid;
        saveToRecent(vid);
        document.getElementById('player-overlay').style.display = 'block';
        document.getElementById('waiting-screen').style.display = 'block';
        document.getElementById('video-iframe').style.display = 'none';
        document.getElementById('video-iframe').src = "";
    }

    function saveToRecent(vid) {
        recentlyWatched = recentlyWatched.filter(v => v.id !== vid.id);
        recentlyWatched.unshift(vid);
        if(recentlyWatched.length > 2) recentlyWatched.pop();
        localStorage.setItem('recent', JSON.stringify(recentlyWatched));
        renderRecent();
    }

    function renderRecent() {
        if(recentlyWatched.length > 0) {
            document.getElementById('recent-title').style.display = 'block';
            renderVideos(recentlyWatched, 'recent-section');
        }
    }

    function openAd() {
        window.open("https://twigcrucialpal.com/kvwft44afa?key=cb80200a80e072a4d94407f211fa613c", '_blank');
        startTime = new Date().getTime();
        timerStarted = true;
    }

    window.onfocus = function() {
        if (timerStarted) {
            let passed = Math.floor((new Date().getTime() - startTime) / 1000);
            if (passed >= 10) {
                document.getElementById('waiting-screen').style.display = 'none';
                const ifr = document.getElementById('video-iframe');
                ifr.src = currentVideo.url;
                ifr.style.display = 'block';
                timerStarted = false;
            }
        }
    };

    function closePlayer() {
        document.getElementById('player-overlay').style.display = 'none';
        document.getElementById('video-iframe').src = "";
        timerStarted = false;
    }

    // Ø§Ø³ØªØ¹Ø§Ø¯Ø© Ø§Ù„Ø³Ù…Ø©
    if(localStorage.getItem('theme') === 'dark') document.body.classList.add('dark-mode');
    
    init();
</script>
</body>
</html>
