<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>[ÙˆØ§ØªØ¨Ø§Ø¯ Ø§Ù„ÙÙ‚Ø±Ø§Ø¡]</title>
    
    <meta name="apple-mobile-web-app-capable" content="yes">
    <link rel="apple-touch-icon" href="https://pomf2.lain.la/f/odvlatpw.jpg">
    <meta name="theme-color" content="#e63946">

    <style>
        :root { 
            --main-red: #e63946; 
            --bg-page: #f8f9fa; 
            --card-bg: #ffffff;
            --text-main: #2b2d42;
            --search-bg: #f1f3f4;
            --gray: #888;
            --whatsapp: #25d366;
            --telegram: #0088cc;
        }

        body.dark-theme { 
            --bg-page: #121212; 
            --card-bg: #1e1e1e;
            --text-main: #f1f1f1;
            --search-bg: #2d2d2d;
        }

        body { 
            background-color: var(--bg-page); color: var(--text-main); 
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; margin: 0; padding: 0; 
            transition: 0.3s; overflow-x: hidden;
        }

        /* Ø§Ù„Ù‡ÙŠØ¯Ø± */
        .app-header { background: var(--card-bg); padding: 15px; display: flex; align-items: center; justify-content: space-between; position: sticky; top: 0; z-index: 1000; box-shadow: 0 2px 10px rgba(0,0,0,0.05); }
        .header-icons { display: flex; gap: 20px; font-size: 20px; cursor: pointer; }
        .app-title { font-size: 22px; font-weight: 800; color: var(--main-red); margin: 0; }

        .search-wrapper { padding: 10px 15px; background: var(--card-bg); }
        .search-input { width: 100%; padding: 12px 20px; border-radius: 12px; border: none; background: var(--search-bg); color: var(--text-main); outline: none; box-sizing: border-box; font-size: 15px; }

        .tabs { display: flex; background: var(--card-bg); margin: 15px; border-radius: 15px; overflow: hidden; box-shadow: 0 4px 15px rgba(0,0,0,0.05); border: 1px solid rgba(0,0,0,0.05); }
        .tab-btn { flex: 1; padding: 15px; border: none; background: none; color: var(--gray); font-weight: bold; cursor: pointer; font-size: 13px; transition: 0.3s; }
        .tab-btn.active { background: var(--main-red); color: white; }

        /* Ø§Ù„Ø´Ø¨ÙƒØ© ÙˆØ§Ù„Ø¨Ø·Ø§Ù‚Ø§Øª */
        .grid { display: none; padding: 0 15px 20px 15px; grid-template-columns: repeat(2, 1fr); gap: 15px; }
        .grid.active { display: grid; }
        
        .section-title { grid-column: 1 / span 2; font-size: 18px; font-weight: bold; color: var(--main-red); margin: 15px 0 5px 0; padding-right: 10px; border-right: 4px solid var(--main-red); }

        .card { background: var(--card-bg); border-radius: 20px; overflow: hidden; box-shadow: 0 8px 20px rgba(0,0,0,0.06); transition: 0.3s; position: relative; border: 1px solid rgba(0,0,0,0.03); }
        .card:active { transform: scale(0.96); }
        .card img { width: 100%; height: 150px; object-fit: cover; }
        .card-info { padding: 12px; text-align: center; border-top: 2px solid var(--main-red); }
        .card-title { font-size: 14px; font-weight: 600; margin-bottom: 5px; display: block; height: 38px; overflow: hidden; }
        .card-price { color: var(--main-red); font-size: 14px; font-weight: 800; }

        /* Ù†Ø§ÙØ°Ø© ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ù…Ù†ØªØ¬ (Ù…Ø«Ù„ Ø§Ù„ØµÙˆØ±Ø© ØªÙ…Ø§Ù…Ø§Ù‹) */
        #product-overlay {
            display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: var(--bg-page); z-index: 5000; flex-direction: column;
        }
        .p-header { position: relative; width: 100%; height: 350px; background: #eee; }
        .p-header img { width: 100%; height: 100%; object-fit: contain; }
        .back-btn { position: absolute; top: 20px; right: 20px; background: rgba(0,0,0,0.4); color: white; border: none; padding: 8px 18px; border-radius: 12px; font-weight: bold; cursor: pointer; backdrop-filter: blur(5px); }
        
        .p-details-box { 
            flex: 1; background: var(--card-bg); margin-top: -30px; border-radius: 35px 35px 0 0; 
            padding: 30px 20px; box-shadow: 0 -10px 30px rgba(0,0,0,0.1); position: relative; overflow-y: auto;
        }
        .p-details-title { font-size: 22px; font-weight: 800; margin-bottom: 10px; color: var(--text-main); }
        .p-details-price { font-size: 24px; color: var(--main-red); font-weight: 900; margin-bottom: 15px; }
        .p-shipping { color: var(--gray); font-size: 15px; margin-bottom: 5px; }
        .p-cod { color: #555; font-size: 15px; font-weight: bold; margin-bottom: 20px; display: block; }
        
        .order-actions { display: flex; flex-direction: column; gap: 12px; margin-top: 10px; }
        .btn-order { width: 100%; padding: 18px; border-radius: 15px; text-decoration: none; color: white; text-align: center; font-weight: 800; font-size: 17px; transition: 0.3s; }
        .btn-whatsapp { background: var(--whatsapp); box-shadow: 0 4px 15px rgba(37, 211, 102, 0.3); }
        .btn-telegram { background: var(--telegram); box-shadow: 0 4px 15px rgba(0, 136, 204, 0.3); }

        /* Ù‚ÙÙ„ Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†Ø§Øª (ØªØµÙ…ÙŠÙ… Ø§Ù„ØµÙˆØ±Ø©) */
        #ad-locker {
            display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: #000; z-index: 9999; flex-direction: column; align-items: center; justify-content: center; text-align: center;
        }
        .locker-close { position: absolute; top: 30px; right: 30px; background: #ff0000; color: white; border: none; padding: 10px 20px; border-radius: 8px; font-weight: bold; }
        .locker-title { color: #ff0000; font-size: 30px; font-weight: 900; margin-bottom: 20px; }
        .locker-msg { color: white; font-size: 18px; padding: 0 30px; line-height: 1.6; margin-bottom: 40px; }
        .btn-ad-main { background: #28a745; color: white; padding: 22px; width: 85%; max-width: 400px; text-decoration: none; border-radius: 15px; font-size: 20px; font-weight: bold; display: block; }

        #player { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: #000; z-index: 8000; }
    </style>
</head>
<body id="main-body">

<div id="product-overlay">
    <div class="p-header">
        <button class="back-btn" onclick="closeProduct()">Ø±Ø¬ÙˆØ¹</button>
        <img id="p-main-img" src="">
    </div>
    <div class="p-details-box">
        <div class="p-details-title" id="p-title">Ø§Ø³Ù… Ø§Ù„Ù…Ù†ØªØ¬ Ù‡Ù†Ø§</div>
        <div class="p-details-price" id="p-price">00,000 Ø¯.Ø¹</div>
        <div class="p-shipping" id="p-shipping-info">ØªÙˆØµÙŠÙ„ Ù„Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ø­Ø§ÙØ¸Ø§Øª: 5 Ø§Ù„Ø§Ù ÙÙ‚Ø·.</div>
        <div class="p-cod">ğŸ“¦ Ø§Ù„Ø¯ÙØ¹ Ø¹Ù†Ø¯ Ø§Ø³ØªÙ„Ø§Ù… Ø§Ù„Ù…Ù†ØªØ¬</div>
        
        <div class="order-actions">
            <a href="#" id="wa-link" target="_blank" class="btn-order btn-whatsapp">Ø§Ø·Ù„Ø¨ Ø¹Ø¨Ø± ÙˆØ§ØªØ³Ø§Ø¨</a>
            <a href="#" id="tg-link" target="_blank" class="btn-order btn-telegram">Ø§Ø·Ù„Ø¨ Ø¹Ø¨Ø± ØªÙ„ÙŠØ¬Ø±Ø§Ù…</a>
        </div>
    </div>
</div>

<div id="ad-locker">
    <button class="locker-close" onclick="closeLocker()">Ø¥ØºÙ„Ø§Ù‚ X</button>
    <div class="locker-title" id="locker-status">ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ù…Ø´Ø§Ù‡Ø¯Ø©</div>
    <div class="locker-msg" id="locker-message">
        ÙŠØ¬Ø¨ Ø§Ù„Ø¶ØºØ· Ø¹Ù„Ù‰ Ø§Ù„Ø²Ø± Ø£Ø¯Ù†Ø§Ù‡ ÙˆØ§Ù„Ø¨Ù‚Ø§Ø¡ ÙÙŠ ØµÙØ­Ø© Ø§Ù„Ø¥Ø¹Ù„Ø§Ù† Ù„Ù…Ø¯Ø© 10 Ø«ÙˆØ§Ù†Ù Ù„ÙØªØ­ Ø§Ù„Ù…Ø­ØªÙˆÙ‰
    </div>
    <a href="https://twigcrucialpal.com/kvwft44afa?key=cb80200a80e072a4d94407f211fa613c" target="_blank" id="smart-link-btn" class="btn-ad-main" onclick="startStrictCheck()">
        Ø´Ø§Ù‡Ø¯ Ø§Ù„Ø§Ø¹Ù„Ø§Ù† Ù„Ù…Ø¯Ø© 10 Ø«ÙˆØ§Ù†ÙŠ
    </a>
</div>

<div class="app-header">
    <div class="header-icons"><span onclick="toggleDarkMode()">ğŸŒ™</span><span onclick="document.getElementById('mainSearch').focus()">ğŸ”</span></div>
    <div class="app-title">[ÙˆØ§ØªÙ€Ø¨Ù€Ø§Ø¯ Ø§Ù„Ù€ÙÙ€Ù‚Ù€Ø±Ø§Ø¡]</div>
</div>

<div class="search-wrapper">
    <input type="text" id="mainSearch" class="search-input" placeholder="Ø§Ø¨Ø­Ø« Ø¹Ù† Ù…Ù†ØªØ¬ Ø£Ùˆ Ù‚ØµØ©..." onkeyup="filterNow()">
</div>

<div class="tabs">
    <button class="tab-btn active" onclick="showTab(event, 'watt-grid')">ğŸ“– Ø§Ù„Ù‚ØµØµ</button>
    <button class="tab-btn" onclick="showTab(event, 'ser-grid')">ğŸ¬ Ø§Ù„Ù…Ø³Ù„Ø³Ù„Ø§Øª</button>
    <button class="tab-btn" onclick="showTab(event, 'prod-grid')">ğŸ›ï¸ Ù…Ù†ØªØ¬Ø§ØªÙŠ</button>
    <button class="tab-btn" onclick="showTab(event, 'history-grid'); updateHistoryUI();">ğŸ•’ Ø§Ù„Ø³Ø¬Ù„</button>
</div>

<div class="grid active" id="prod-grid">
    <div class="section-title">Ø£Ø¬Ù‡Ø²Ø© Ø§Ù„Ù…Ø·Ø¨Ø®</div>
    
    <div class="card" data-title="Ù…Ø¹ØµØ§Ø±Ø© Ø¯ÙŠØ¬ØªØ§Ù„" onclick="openProduct('Ù…Ø¹ØµØ§Ø±Ø© Ø¯ÙŠØ¬ØªØ§Ù„', '70,000 Ø¯.Ø¹', 'https://pomf2.lain.la/f/p8q0p7aj.png')">
        <img src="https://pomf2.lain.la/f/p8q0p7aj.png">
        <div class="card-info">
            <span class="card-title">Ù…Ø¹ØµØ§Ø±Ø© Ø¯ÙŠØ¬ØªØ§Ù„</span>
            <span class="card-price">70,000 Ø¯.Ø¹</span>
        </div>
    </div>

    <div class="card" data-title="Ø®Ù„Ø§Ø· Ø´Ø­Ù† ÙˆØ³Ø·" onclick="openProduct('Ø®Ù„Ø§Ø· Ø´Ø­Ù† ÙˆØ³Ø·', '14,000 Ø¯.Ø¹', 'https://pomf2.lain.la/f/1xkkr5wp.png')">
        <img src="https://pomf2.lain.la/f/1xkkr5wp.png">
        <div class="card-info">
            <span class="card-title">Ø®Ù„Ø§Ø· Ø´Ø­Ù† ÙˆØ³Ø·</span>
            <span class="card-price">14,000 Ø¯.Ø¹</span>
        </div>
    </div>

    <div class="card" data-title="Ø¬Ù‡Ø§Ø² Ø§Ù„Ø§ÙØ·Ø§Ø± 3 ÙÙŠ 1" onclick="openProduct('Ø¬Ù‡Ø§Ø² Ø§Ù„Ø§ÙØ·Ø§Ø± 3 ÙÙŠ 1', '40,000 Ø¯.Ø¹', 'https://pomf2.lain.la/f/0ynrfgx.png')">
        <img src="https://pomf2.lain.la/f/0ynrfgx.png">
        <div class="card-info">
            <span class="card-title">Ø¬Ù‡Ø§Ø² Ø§Ù„Ø§ÙØ·Ø§Ø± 3 ÙÙŠ 1</span>
            <span class="card-price">40,000 Ø¯.Ø¹</span>
        </div>
    </div>

    <div class="card" data-title="Ø·Ù‚Ù… Ù‚Ø¯ÙˆØ± Ù…ÙŠÙ†Ø§" onclick="openProduct('Ø·Ù‚Ù… Ù‚Ø¯ÙˆØ± Ù…ÙŠÙ†Ø§', '30,000 Ø¯.Ø¹', 'https://pomf2.lain.la/f/yajdiwi4.png')">
        <img src="https://pomf2.lain.la/f/yajdiwi4.png">
        <div class="card-info">
            <span class="card-title">Ø·Ù‚Ù… Ù‚Ø¯ÙˆØ± Ù…ÙŠÙ†Ø§</span>
            <span class="card-price">30,000 Ø¯.Ø¹</span>
        </div>
    </div>
</div>

<div class="grid" id="watt-grid"></div>
<div class="grid" id="ser-grid"></div>
<div class="grid" id="history-grid"></div>

<div id="player">
    <button class="locker-close" style="top:10px; left:10px; right:auto;" onclick="backToMain('player')">Ø¥ØºÙ„Ø§Ù‚</button>
    <div id="video-root" style="width:100%; height:100%; display:flex; align-items:center;"></div>
</div>

<script>
    // Ù†Ø¸Ø§Ù… ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ù…Ù†ØªØ¬
    function openProduct(title, price, img) {
        document.getElementById('p-title').innerText = title;
        document.getElementById('p-price').innerText = "Ø§Ù„Ø³Ø¹Ø±: " + price;
        document.getElementById('p-main-img').src = img;
        
        // ÙˆØ§ØªØ³Ø§Ø¨ Ù…Ø¹ Ø±Ø³Ø§Ù„Ø© Ø¬Ø§Ù‡Ø²Ø©
        let waMsg = encodeURIComponent("Ù…Ø±Ø­Ø¨Ø§Ù‹ØŒ Ø£Ø±ÙŠØ¯ Ø·Ù„Ø¨ Ù…Ù†ØªØ¬: " + title + " Ø¨Ø³Ø¹Ø± " + price);
        document.getElementById('wa-link').href = "https://wa.me/9647860526345?text=" + waMsg;
        
        // ØªÙ„ÙŠØ¬Ø±Ø§Ù…
        document.getElementById('tg-link').href = "https://t.me/Z_U_L_f_I_Q_A";
        
        document.getElementById('product-overlay').style.display = 'flex';
    }

    function closeProduct() {
        document.getElementById('product-overlay').style.display = 'none';
    }

    // Ù†Ø¸Ø§Ù… Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†Ø§Øª ÙˆØ§Ù„Ø¹Ø¯Ø§Ø¯ (Ø§Ù„Ù…Ø­ØªØ±Ù)
    let videoQueue = null;
    let startTime = 0;
    let isWatchingAd = false;
    let timerInterval;

    function lockVideo(id, title, url, thumb) {
        videoQueue = {id, title, url, thumb};
        resetLocker();
        document.getElementById('ad-locker').style.display = 'flex';
    }

    function resetLocker() {
        isWatchingAd = false;
        clearInterval(timerInterval);
        const btn = document.getElementById('smart-link-btn');
        btn.innerText = "Ø´Ø§Ù‡Ø¯ Ø§Ù„Ø§Ø¹Ù„Ø§Ù† Ù„Ù…Ø¯Ø© 10 Ø«ÙˆØ§Ù†ÙŠ";
        btn.style.background = "#28a745";
    }

    function startStrictCheck() {
        startTime = Date.now();
        isWatchingAd = true;
        let timeLeft = 10;
        
        timerInterval = setInterval(() => {
            timeLeft--;
            if(timeLeft > 0) {
                document.getElementById('smart-link-btn').innerText = "Ø§Ù†ØªØ¸Ø± " + timeLeft + " Ø«Ø§Ù†ÙŠØ©...";
            } else {
                document.getElementById('smart-link-btn').innerText = "ÙŠÙ…ÙƒÙ†Ùƒ Ø§Ù„Ø¹ÙˆØ¯Ø© Ø§Ù„Ø¢Ù† Ù„ÙØªØ­ Ø§Ù„ÙÙŠØ¯ÙŠÙˆ";
                clearInterval(timerInterval);
            }
        }, 1000);
    }

    window.onfocus = function() {
        if (isWatchingAd) {
            let duration = (Date.now() - startTime) / 1000;
            if (duration >= 10) {
                document.getElementById('ad-locker').style.display = 'none';
                playMedia(videoQueue.id, videoQueue.title, videoQueue.url, videoQueue.thumb);
            } else {
                alert("ÙŠØ¬Ø¨ Ø§Ù„Ø¨Ù‚Ø§Ø¡ ÙÙŠ ØµÙØ­Ø© Ø§Ù„Ø¥Ø¹Ù„Ø§Ù† Ù„Ù…Ø¯Ø© 10 Ø«ÙˆØ§Ù†Ù ÙƒØ§Ù…Ù„Ø©!");
                resetLocker();
            }
        }
    };

    function playMedia(id, title, url, thumb) {
        document.getElementById('player').style.display = 'block';
        document.getElementById('video-root').innerHTML = `<video controls autoplay style="width:100%;"><source src="${url}" type="video/mp4"></video>`;
    }

    function closeLocker() { document.getElementById('ad-locker').style.display = 'none'; resetLocker(); }
    function backToMain(id) { document.getElementById(id).style.display = 'none'; document.getElementById('video-root').innerHTML=''; }
    function toggleDarkMode() { document.body.classList.toggle('dark-theme'); }
    function showTab(evt, id) { 
        document.querySelectorAll('.grid').forEach(g => g.classList.remove('active')); 
        document.querySelectorAll('.tab-btn').forEach(t => t.classList.remove('active'));
        document.getElementById(id).classList.add('active'); evt.currentTarget.classList.add('active'); 
    }
    function filterNow() {
        let val = document.getElementById('mainSearch').value.toLowerCase();
        document.querySelectorAll('.card').forEach(c => {
            let title = c.getAttribute('data-title') || "";
            c.style.display = title.toLowerCase().includes(val) ? 'block' : 'none';
        });
    }
</script>

</body>
</html>
